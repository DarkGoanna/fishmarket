const html=document.querySelector("html"),header=document.querySelector(".header"),burger=document.querySelector("#burger"),menu=document.querySelector(".menu");let headerMinHeight=0,lastScrollPosition=0;function isApple(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function resizeHeader(){window.scrollY>0?header.classList.add("small"):header.classList.remove("small")}function getHederMinHeght(){return headerMinHeight=getComputedStyle(header).getPropertyValue("--headerMinHeight"),parseFloat(headerMinHeight)}function detectScrollDirection(){const e=window.pageYOffset,t=header.nextElementSibling;window.scrollY>headerMinHeight?(header.classList.add("fixed"),t.style.paddingTop=headerMinHeight+"px",e>lastScrollPosition?header.classList.remove("show"):header.classList.add("show")):0===window.scrollY&&(header.classList.remove("fixed"),header.classList.remove("show"),t.style.paddingTop=""),lastScrollPosition=e<=0?0:e}function openMenu(){burger.classList.toggle("open"),menu.classList.toggle("open"),html.classList.toggle("scrollOff")}burger.addEventListener("click",openMenu);const newsSlider=document.querySelector(".news__slider");newsSlider&&new Swiper(newsSlider,{loop:!0,spaceBetween:36,slidesPerView:3,slidesPerGroup:3,navigation:{nextEl:".news__nav--next",prevEl:".news__nav--prev"},breakpoints:{1:{slidesPerView:1,slidesPerGroup:1},581:{slidesPerView:2,slidesPerGroup:2},1001:{slidesPerView:3,slidesPerGroup:3}}});const playerWrapper=document.querySelector(".video__player-wrapper");if(playerWrapper){const e=playerWrapper.querySelector(".video__player"),t=playerWrapper.querySelector(".video__btn");t.addEventListener("click",()=>{playerWrapper.classList.add("active"),t.classList.add("toggleCircle");switch(t.getAttribute("data-action")){case"play":t.setAttribute("data-action","pause"),e.play();break;case"pause":t.setAttribute("data-action","play"),e.pause()}setTimeout(()=>{t.classList.remove("toggleCircle")},200)})}const activityWrapper=document.querySelector(".activity__inner");function setHeightOnResize(){const e=document.querySelectorAll(".activity__card.open"),t=window.matchMedia("(max-width: 580px)").matches;e.length&&e.forEach(e=>{const i=e.querySelector(".activity__body"),r=e.querySelector(".activity__text");let s=0;if(t){s=e.querySelector(".activity__body img").clientHeight}i.style.height=r.clientHeight+s+"px"})}activityWrapper&&activityWrapper.addEventListener("click",e=>{const t=e.target.closest(".activity__head");if(t&&t.classList.contains("activity__head")){const t=e.target.closest(".activity__card"),i=t.querySelector(".activity__body");t.classList.contains("open")?(t.classList.remove("open"),i.style.height="0px"):(t.classList.add("open"),i.style.height=i.scrollHeight+"px")}}),window.addEventListener("load",()=>{isApple()&&document.html.classList.add("ios"),headerMinHeight=getHederMinHeght()}),window.addEventListener("scroll",()=>{detectScrollDirection(),resizeHeader(),headerMinHeight=getHederMinHeght()}),window.addEventListener("resize",()=>{headerMinHeight=getHederMinHeght(),setHeightOnResize()});